# FiOWIN Lab Website TODO

## 设计系统与样式
- [x] 配置斯堪的纳维亚美学风格的全局主题（浅冷灰色背景、粉蓝色和腮红粉色点缀）
- [x] 设置全局字体（无衬线字体，粗体标题+纤细副标题）
- [x] 创建抽象几何装饰组件

## 数据层
- [x] 扩展数据库schema（成员、论文、新闻、会议、研究方向）
- [x] 生成并应用数据库迁移SQL
- [x] 创建数据库查询helpers
- [x] 创建tRPC procedures（成员、论文、新闻、会议、研究方向）
- [x] 导入初始数据到数据库

## 页面开发
- [x] 实验室首页（英雄区、简介、研究方向概览、核心优势）
- [x] 团队成员页面（导师、博士后、博士生、硕士生展示）
- [x] 研究成果页面（顶级期刊论文、会议论文展示）
- [x] 新闻动态页面（最新动态、团队活动、获奖信息）
- [x] 学术会议记录页面（国际会议参会详情）
- [x] 研究方向介绍页面（详细研究领域介绍）
- [x] 联系方式页面（联系信息、地址、微信公众号）

## 导航与布局
- [x] 创建全局导航栏组件
- [x] 创建页脚组件
- [x] 配置路由系统

## 响应式设计
- [x] 确保所有页面在移动端和桌面端的响应式布局
- [ ] 测试不同屏幕尺寸的显示效果

## 测试
- [x] 编写vitest测试覆盖核心功能

## 交互式可视化报告
- [x] 创建实验室数据可视化报告页面（成员统计、论文统计、会议参与统计）

## 优化研究成果展示
- [x] 从谷歌学术获取张俊文老师论文
- [x] 按期刊水平排序（Nature Communications优先）
- [x] 更新研究成果页面不再使用精选论文形式

## 补充论文数据
- [x] 从微信公众号文章中提取所有论文信息
- [x] 创建数据导入脚本批量添加论文到数据库
- [x] 确保研究成果页面显示所有论文（按期刊水平排序）

## 简化研究成果展示
- [x] 将研究成果页面简化为标准引用格式（IEEE格式）
- [x] 按年份分组展示论文
- [x] 每篇论文有编号便于引用

## 管理员可视化编辑后台
- [ ] 扩展数据库schema添加pages和news表
- [ ] 实现管理员认证系统（用户名密码从环境变量读取）
- [ ] 创建/admin登录页面
- [ ] 创建/admin/editor编辑器页面（TipTap富文本编辑）
- [ ] 创建tRPC API接口保存页面内容和新闻
- [ ] 更新首页从数据库读取"关于实验室"内容
- [ ] 更新研究方向页面从数据库读取内容
- [ ] 更新新闻动态页面支持数据库内容
- [ ] 更新联系我们页面支持数据库内容
- [ ] 编写测试用例验证功能


## 管理员编辑后台实现完成
- [x] 扩展数据库schema添加pages表
- [x] 实现管理员认证系统（用户名密码从环境变量读取）
- [x] 创建/admin登录页面
- [x] 创建/admin/editor编辑器页面（TipTap富文本编辑）
- [x] 创建tRPC API接口保存页面内容
- [x] 编写测试用例验证功能
- [x] 创建初始化脚本创建默认页面内容
- [ ] 更新前台页面从数据库读取内容（可选增强）


## 编辑器升级为Word级别编辑体验
- [x] 安装并配置Editor.js编辑器库
- [x] 实现完整的文本格式化功能
- [x] 支持表格编辑和插入
- [x] 支持代码块和代码高亮
- [x] 支持引用和分隔符
- [x] 支持拖拽重新排序内容块
- [x] 支持按斜标快速插入内容
- [x] 优化编辑器UI和交互体验


## 内联编辑功能（Word级编辑体验）
- [x] 创建内联编辑上下文和Hooks
- [ ] 为页面添加编辑模式切换按针
- [x] 实现可编辑文本块组件
- [ ] 为首页、研究方向、联系我们等页面添加内联编辑
- [ ] 实现实时保存和权限控制


## 实现Word级编辑体验（第二阶段）
- [x] 在导航栏添加编辑模式切换按针
- [x] 为首页添加可编辑块（标题、简介等）
- [x] 修复EditableText组件的as属性以正确渲染标题元素
- [x] 测试编辑功能的完整流程
- [x] 验证编辑内容是否正确保存到数据库
- [x] 验证编辑内容在页面刷新后是否正确加载
- [x] 为团队成员页面添加可编辑块（页面标题、描述）
- [x] 为研究成果页面添加可编辑块（页面标题、描述）
- [x] 为新闻动态页面添加可编辑块（页面标题、描述）
- [x] 为学术会议页面添加可编辑块（页面标题、描述）
- [x] 为联系我们页面添加可编辑块（页面标题、描述、联系信息）
- [ ] 优化编辑模式的UI和交互体验
- [ ] 编写EditableText组件的vitest单元测试
- [ ] 编写admin.savePage过程的vitest单元测试


## 高级团队成员管理功能（第三阶段）
- [x] 扩展数据库schema添加团队成员分类和排序字段
- [x] 为团队成员表添加身份和年级标签字段
- [x] 创建团队成员详情页面（/member/:id）
- [x] 实现团队成员详情编辑功能
- [x] 添加本科生和已毕业学生两个新分类
- [x] 实现拖拽排序功能（使用@dnd-kit库）
- [x] 为每个成员添加自定义标签编辑（身份、年级）
- [x] 实现删除团队成员功能
- [x] 实现创建新团队成员API（tRPC）
- [x] 测试拖拽排序功能的完整流程
- [ ] 实现添加新团队成员的UI对话框
- [ ] 编写团队成员CRUD操作的vitest测试
- [ ] 优化团队成员管理UI和交互体验


## 修复成员详情页面的编辑体验（第四阶段）
- [x] 修复身份标签和年级标签的编辑逻辑（改为点击编辑后显示保存/取消按针）
- [x] 修复个人简介的编辑逻辑（改为点击编辑后显示保存/取消按针）
- [x] 测试修复后的编辑体验


## 优化团队成员标签系统（第五阶段）
- [x] 扩展数据库schema，为embers表添加birthday和contact字段
- [x] 生成并应用数据库迁移水SQL
- [x] 更新MemberDetail.tsx，根据角色显示不同的标签（学生显示生日+联系方式，老师显示生日）
- [x] 测试新的标签系统和分类显示
- [ ] 添加本科生（Undergraduate）和已毕业学生（Alumni）分类到Team.tsx


## 完善团队成员管理系统（第六阶段）
- [x] 调整学生标签，移除联系方式标签，添加年级标签
- [x] 标准化内容显示，所有人固定显示个人简介、研究方向、荣誉奖项三项
- [x] 老师只显示个人简介和研究方向
- [x] 学生显示个人简介、研究方向、荣誉奖项
- [x] 实现添加成员对话框功能
- [x] 在对话框中根据角色显示不同的字段
- [x] 实现研究方向的编辑功能
- [x] 测试添加成员和编辑研究方向的完整流程


## 为研究成果页面添加编辑功能（第七阶段）
- [ ] 检查Publications页面的数据结构
- [ ] 为publications表添加必要的字段（标题、作者、期刊等）
- [ ] 为每一项研究成果添加编辑图标和编辑模式
- [ ] 实现研究成果的CRUD操作API（tRPC）
- [ ] 创建EditablePublication组件
- [ ] 测试研究成果的编辑功能

## 修复新闻和研究成果管理功能（第八阶段）
- [ ] 修复新闻详情页面的字段编辑按钮可见性（分类、作者、摘要、内容）
- [ ] 为新闻列表添加"新增新闻"按钮和对话框
- [ ] 为研究成果列表添加"新增研究成果"按钮和对话框
- [ ] 实现新增新闻的API（tRPC）
- [ ] 实现新增研究成果的API（tRPC）
- [ ] 测试新增和编辑功能的完整流程

## 图片上传功能实现（第九阶段）
- [x] 修改数据库 schema，为 news 表添加 images 字段存储多张图片
- [x] 为 researchAreas 表添加 imageUrl 字段
- [x] 为 pages 表添加 logoUrl 字段（用于存储实验室 Logo）
- [x] 创建文件上传 API（tRPC 过程）
- [x] 实现主页 Logo 上传功能
- [x] 实现成员头像上传功能（修改现有 photoUrl）
- [x] 实现新闻图片上传功能（支持多张）
- [ ] 实现研究方向头像上传功能
- [x] 创建图片上传组件（可复用）
- [x] 测试所有图片上传功能


## 多账号管理系统（第十阶段）
- [x] 修改认证系统支持多个管理员账号
- [x] 添加新账号 "test" / "test20260201"
- [x] 测试新账号登录功能
- [x] 验证新账号具有与 "LabAdmin" 相同的权限


## Bug 修复（第十一阶段）
- [x] 修复 JSON 解析错误 - "复旦大学KLA冠名奖学金" 导致应用崩溃
- [x] 添加输入验证和错误处理，防止无效 JSON 输入
- [x] 测试修复是否解决问题


## 用户输入友好性改进（第十二阶段）
- [x] 改进成员编辑表单 - 添加字段验证和格式提示
- [ ] 改进新闻编辑表单 - 添加字段验证和格式提示
- [ ] 改进会议编辑表单 - 添加字段验证和格式提示
- [ ] 改进研究方向编辑表单 - 添加字段验证和格式提示
- [x] 创建可复用的表单组件库 (ArrayEditor)
- [x] 添加实时验证反馈（错误提示、成功提示）
- [x] 添加输入格式示例和帮助文本
- [x] 测试改进效果
